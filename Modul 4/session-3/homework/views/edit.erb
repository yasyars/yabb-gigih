<!doctype html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<head>

<h1 class="d-flex justify-content-center">Edit Item</h1>
<hr>

<form  class="mt-2" method="POST" action='/items/<%= item.id %>'>
  <div class="d-flex justify-content-center mt-5 form-group">
   <table class="table w-50 mt-2" >
      <tbody>
        <tr>
          <td>Item Name</td>
          <td>
            <input class="form-text mr-2" name="name" type="text" value="<%=item.name%>">
          </td>
        </tr>
        <tr>
          <td>Item Price</td>
          <td>
            <input class="form-text mr-2"  name ="price" type="number" value="<%=item.price%>" >
          </td>
        </tr>
        <tr>
          <td>Item Category</td>
          <td>
            <div >
              <% categories.each do |category| %>
                <div>
                  <input type="checkbox" 
                  id= <%=category.id%> 
                  name="category_ids[]" 
                  value= <%=category.id%>
                  <%if (item.categories.map {|x| x.id}).include? category.id%>
                  checked
                  <%end%>>
                  <label for= <%=category.id%>><%= category.name %></label><br>
                </div>
              <% end %>
            </div>          
          </td>
        </tr>
      </tbody>
    </table>
   <input name="_method" type="hidden" value="put">
  </div>
  <div class="d-flex justify-content-center ">
    <button class=" btn btn-primary " type="submit"> Update item</button>
  </div>
</form>

<a class="d-flex justify-content-center mt-2" href='/'>Back</a>
</html>